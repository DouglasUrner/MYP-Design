<head>
  <title>MYP Unit Planner</title>
</head>

<body>
  {{> concepts_and_context}}
</body>

<template name='concepts_and_context'>
  {{#autoForm id='units' type='insert' collection='Units'}}
  <div class='container'>
    <div class='panel-group' id='accordian'>

      <div class='panel'>
        <div class='panel-heading'>
          <a data-toggle='collapse'
            data-parent='#accordian' href='#collapse0'>
            <label class='control-label'>
              {{afFieldLabelText name='unit_title'}}:
            </label>
          </a>
          <label class='control-label'>
            {{currentFieldValue 'unit_title'}}
          </label>
          ({{currentFieldValue 'subject_group'}} /
            {{currentFieldValue 'discipline'}}),
          {{currentFieldValue 'faculty'}}
      </div>
      <div id='collapse0' class='panel-collapse collapse'>
        <div class='panel-body'>
          {{afFieldLabelText name='unit_title'}}:
            {{> afFieldInput name='unit_title'}}

          {{afFieldLabelText name='subject_group'}}:
            {{> afFieldInput name='subject_group'}}
          {{afFieldLabelText name='discipline'}}:
            {{> afFieldInput name='discipline'}}
          {{afFieldLabelText name='faculty'}}:
            {{> afFieldInput name='faculty'}}
          {{afFieldLabelText name='myp_year'}}:
            {{> afFieldInput name='myp_year'}}
          {{afFieldLabelText name='teaching_hours'}}:
            {{> afFieldInput name='teaching_hours'}}
        </div>
      </div>
    </div>

      <div class='panel'>
        <div class='panel-heading'>
          <a data-toggle='collapse'
            data-parent='#accordian' href='#collapse1'>
            <label class='control-label'>
              {{afFieldLabelText name='key_concept'}}:
            </label>
          </a> {{currentFieldValue 'key_concept'}}
        </div>
        <div id='collapse1' class='panel-collapse collapse'>
          <div class='panel-body'>
            {{> afFieldInput name='key_concept'}}
          </div>
        </div>
      </div>

      <div class='panel'>
        <div class='panel-heading'>
          <a data-toggle='collapse'
            data-parent='#accordian' href='#collapse2'>
            <label class='control-label'>
              {{afFieldLabelText name='related_concepts'}}:
            </label>
          </a> {{currentFieldValue 'related_concepts'}}
        </div>
        <div id='collapse2' class='panel-collapse collapse'>
          <div class='panel-body'>
            {{> afFieldInput name='related_concepts'}}
          </div>
        </div>
      </div>

      <div class='panel'>
        <div class='panel-heading'>
          <a data-toggle='collapse'
          data-parent='#accordian' href='#collapse3'>
          <label class='control-label'>
            {{afFieldLabelText name='global_context'}}:
          </label>
        </a> {{currentFieldValue 'global_context'}}
      </div>
      <div id='collapse3' class='panel-collapse collapse'>
        <div class='panel-body'>
          {{> afFieldInput name='global_context'}}
        </div>
      </div>
    </div>

    <div class='panel'>
      <div class='panel-heading'>
        <a data-toggle='collapse'
          data-parent='#accordian' href='#collapse4'>
          <label class='control-label'>
            {{afFieldLabelText name='statement_of_inquiry'}}:
          </label>
        </a> {{currentFieldValue 'statement_of_inquiry'}}
      </div>
      <div id='collapse4' class='panel-collapse collapse'>
        <div class='panel-body'>
          {{> afFieldInput name='statement_of_inquiry'}}

            {{> afArrayField name='factual_questions'}}
            {{> afArrayField name='conceptual_questions'}}
            {{> afArrayField name='debatable_questions'}}
        </div>
      </div>
    </div>

    <div class='panel'>
      <div class='panel-heading'>
        <a data-toggle='collapse'
          data-parent='#accordian' href='#collapse5'>
          <label class='control-label'>
            {{afFieldLabelText name='summative_assessment'}}:
          </label>
        </a>
        {{#if afFieldIsInvalid name='summative_assessment'}}
          <span class="help-inline">
            {{{afFieldMessage name='summative_assessment'}}}
          </span>
        {{else}}
          {{currentFieldValue 'summative_assessment'}}
        {{/if}}
      </div>
      <div id='collapse5' class='panel-collapse collapse'>
        <div class='panel-body'>
          {{> afFieldInput name='summative_assessment'}}
          {{#if afFieldIsInvalid name='summative_assessment'}}
            <span class="help-block">
              {{{afFieldMessage name='summative_assessment'}}}
            </span>
          {{/if}}
        </div>
      </div>
    </div>

    </div>
  </div>

  <div class="form-group">
    <button type="submit" class="btn btn-primary">
      Add Unit</button>
    <button type="reset" class="btn btn-default">
      Reset Form
    </button>
  </div>
  {{/autoForm}}
</template>

<template name='units'>
{{#autoForm id='units' type='insert' collection='Units'}}

  <div class="form-group
    {{#if afFieldIsInvalid name='title'}}has-error{{/if}}">
    <label class="control-label">
      {{afFieldLabelText name='title'}}
    </label>
    {{> afFieldInput name='title'}}
    {{#if afFieldIsInvalid name='title'}}
      <span class="help-block">
        {{{afFieldMessage name='title'}}}
      </span>
    {{/if}}
  </div>

  <div class="form-group
    {{#if afFieldIsInvalid name='key_concept'}}has-error{{/if}}">
    <label class="control-label">
      {{afFieldLabelText name='key_concept'}}: {{currentFieldValue name='key_concept'}}
    </label>
    {{> afFieldInput name='key_concept'}}
    {{#if afFieldIsInvalid name='key_concept'}}
      <span class="help-block">
        {{{afFieldMessage name='key_concept'}}}
      </span>
    {{/if}}
  </div>

  <div class="form-group
    {{#if afFieldIsInvalid
      name='related_concepts'}}has-error{{/if}}">
    <label class="control-label">
      {{afFieldLabelText name='related_concepts'}}
    </label>
    {{> afFieldInput name='related_concepts'}}
    {{#if afFieldIsInvalid name='related_concepts'}}
      <span class="help-block">
        {{{afFieldMessage name='related_concepts'}}}
      </span>
    {{/if}}
  </div>

  <div class="form-group">
    <button type="submit" class="btn btn-primary">
      Add Unit</button>
    <button type="reset" class="btn btn-default">
      Reset Form
    </button>
  </div>

{{/autoForm}}
</template>
